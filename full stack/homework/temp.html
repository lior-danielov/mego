
<canvas id="myCanvas" width="200" height="200" style="border:1px solid;"></canvas>
<br>
<p>X:</p>
<p id="x_value">--</p>
<p>Y:</p>
<p id="y_value">--</p>
<p>score:</p>
<p id="s_value">--</p>
<p id="num1">--</p>
<p id="num2">--</p>
<script>
    //----------------------------------------------------
    function keyDownEventHandler() {
        //clean
        ctx.fillStyle = 'white';
        ctx.fillRect(0, 0, 200, 200);
        if (event.keyCode == 40 && y < 180)
            y += 20;
        if (event.keyCode == 38 && y > 0)
            y -= 20;
        if (event.keyCode == 37 && x > 0)
            x -= 20;
        if (event.keyCode == 39 && x < 180)
            x += 20;
        if (x == appalx1 && y == appaly1)
            s += 1;
        if(x == appalx1 && y == appaly1){
            appalx = Math.floor((Math.random()*9));
            appalx1 = appalx * 20; 
            appaly = Math.floor((Math.random()*9));
            appaly1 = appaly * 20;   
    }
function TimeEventHandler() {

    if (direction == "right" && x < 180)
        x += 20;
    if (direction == "left" && x > 0)
        x -= 20;
    if (direction == "up" && y > 0)
        y -= 20;
    if (direction == "down" && y < 180)
        y += 20;
    // להגדיר שכשמגיע לגבול יהפוך כיוון
    if (direction == "right" && x == 180)
        direction = "left";
    if (direction == "left" && x == 0)
        direction = "right";
    if (direction == "up" && y == 0)
        direction = "down";
    if (direction == "down" && y == 180)
        direction = "up";
    // להגדיר שכשמגיע לתפוח יעלה הציון ושישנה מיקום תפוח
    if (rnd_x == x && rnd_y == y){
        score += 1
        rnd_x = Math.floor((Math.random() * 20)) * 20
        rnd_y = Math.floor((Math.random() * 15)) * 20
}
        document.getElementById("x_value").innerHTML = x;
        document.getElementById("y_value").innerHTML = y;
        document.getElementById("s_value").innerHTML = s;
        document.getElementById("num1").innerHTML = appalx1;
        document.getElementById("num2").innerHTML = appaly1;
        //draw rectangular 
        ctx.fillStyle = "black";
        ctx.fillRect(x, y, 20, 20);
        ctx.fillStyle = "red";
        ctx.fillRect(appalx1, appaly1, 20, 20);
    }
    //----------------------------------------------------

    function TimeEventHandler_211(){
        rnd_x = Math.floor((Math.random() * 20)) * 9
        rnd_y = Math.floor((Math.random() * 15)) * 9
    }
    canvas = document.getElementById('myCanvas');
    ctx = canvas.getContext('2d');
    var x = 40;
    var y = 40;
    var appalx = Math.floor((Math.random()*9));
    var appalx1 = appalx * 20;
    var appaly = Math.floor((Math.random()*9));
    var appaly1 = appaly * 20;
    var s = 0;

    document.getElementById("rnd_x_value").innerHTML = rnd_x;
    document.getElementById("rnd_y_value").innerHTML = rnd_y;
    
    setInterval(TimeEventHandler,900)
    setInterval(TimeEventHandler,1000)

    document.onkeydown = keyDownEventHandler;
</script>