<canvas id="myCanvas" width="400" height="300" style="border:1px solid;"></canvas>
<br>
<p>X:</p>
<p id="x_value">--</p>
<p>Y:</p>
<p id="y_value">--</p>
<script>
    //--------------------functions-----------------------
    function keyDownEventHandler() {
        if (event.keyCode == 40)
            direction = "down";
        if (event.keyCode == 38)
            direction = "up";
        if (event.keyCode == 37)
            direction = "left";
        if (event.keyCode == 39)
            direction = "right";
    }
    function TimeEventHandler() {
        if((x == brick1.x-20 && direction =="right" && y == brick1.y) || 
        (x == brick1.x+20 &&direction =="left" && y == brick1.y) || 
        (y == brick1.y-20 && direction =="down" && x == brick1.x) || 
        (y == brick1.y+20 &&direction =="up" && x == brick1.x)){
            direction = "stop";
        }



        if (direction == "right")
            x += 20;
        if (direction == "left")
            x -= 20;
        if (direction == "up")
            y -= 20;
        if (direction == "down")
            y += 20;

        document.getElementById("x_value").innerHTML = x;
        document.getElementById("y_value").innerHTML = y;
        //clean
        ctx.fillStyle = 'white';
        ctx.fillRect(0, 0, 400, 300);
        //draw player
        ctx.fillStyle = "black";
        ctx.fillRect(x, y, 20, 20);


        //draw bricks
        ctx.fillStyle = "blue";
        ctx.fillRect(brick1.x, brick1.y, 20, 20);

    }
    //-----------------------------------------------------
    ctx = document.getElementById('myCanvas').getContext('2d');
    x = 100;
    y = 100;
    direction = "right";

    brick1 = {
        x: 100,
        y: 160
    };


    ctx.fillStyle = "black";
    ctx.fillRect(x, y, 20, 20);
    setInterval(TimeEventHandler, 300);
    document.onkeydown = keyDownEventHandler;
</script>